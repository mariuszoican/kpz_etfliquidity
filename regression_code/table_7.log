
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      18.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: 5-user 32-core network perpetual
Serial number: 501806221992
  Licensed to: Nathaniel Baum−Snow
               University of Toronto

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do table_7 

. 
. // Table 3 - Investor holding duration and ETF fees
. // -------------------------------------
. 
. // Load data
. // -------------------------------------
. clear all

. set more off

. 
. cd ..
/global/home/pc_mzoican/kpz_etfliquidity

. local directory : pwd

. display "`working_dir'"


. import delimited "`directory'/data/etf_panel_processed.csv"
(encoding automatically selected: ISO-8859-1)
(71 vars, 1,752 obs)

. 
. 
. // // Label variables
. // // ---------------------------------
. 
. egen time_existence_std=std(time_existence)

. egen time_since_first_std=std(time_since_first)
(56 missing values generated)

. egen log_aum_index_std=std(log_aum_index)

. egen lend_byaum_bps_std=std(lend_byaum_bps)

. egen marketing_fee_bps_std=std(marketing_fee_bps)

. egen tr_error_bps_std=std(tr_error_bps)

. egen perf_drag_bps_std=std(perf_drag_bps)

. egen turnover_frac_std=std(turnover_frac)
(2 missing values generated)

. gen  net_expense_mer=other_expense-marketing_fee_bps/100+fee_waiver

. egen net_expenses_std=std(net_expense_mer)

. egen stock_tweets_std=std(stock_tweets)

. egen ratio_tii_std = std(ratio_tii)
(73 missing values generated)

. egen creation_fee_std=std(creation_fee)

. 
. gen major_brand_index=1-d_ownindex

. gen different_benchmarks=1-same_benchmark

. gen different_lead_mm=1-same_lead_mm

. 
. label variable mgr_duration "Investor holding duration"

. label variable highfee "High MER"

. label variable time_existence_std "ETF age (quarters)"

. label variable time_since_first_std "Time since first position"

. label variable log_aum_index_std "Log index AUM"

. label variable d_uit "Unit investment trust"

. label variable lend_byaum_bps_std "Lending income (bps of AUM)"

. label variable marketing_fee_bps_std "Marketing expense (bps)"

. label variable stock_tweets "Name recognition (Twitter msg.)"

. label variable tr_error_bps_std "Tracking error (bps)"

. label variable perf_drag_bps_std "Performance drag (bps)"

. label variable turnover_frac_std "ETF turnover"

. label variable net_expenses_std "Other net expenses"

. label variable stock_tweets_std "Stock tweets"

. 
. 
. label variable mkt_share "Market share"

. label variable spread_bps_crsp "Relative spread"

. label variable mer_bps "MER"

. label variable logret_q_lag "Lagged return"

. label variable ratio_tii_std "Tax-insensitive investors"

. 
. label variable same_benchmark "Same benchmark"

. label variable same_lead_mm "Same lead market-maker"

. label variable major_brand_index "Major brand index"

. label variable different_benchmarks "Different benchmarks"

. label variable different_lead_mm "Different lead market-maker"

. 
. 
. gen firstmover_diffbench=firstmover * different_benchmarks

. gen firstmover_majorindex= firstmover * major_brand_index

. gen firstmover_diffleadmm = firstmover * different_lead_mm

. 
. label variable firstmover "First mover"

. label variable firstmover_majorindex "First mover $\times$ Major brand index"

. label variable firstmover_diffbench "First mover $\times$ Different benchmark
> s"

. label variable firstmover_diffleadmm "First mover $\times$ Different lead mar
> ket-maker"

. 
. reghdfe highfee firstmover, absorb(index_id quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   1,     19) =      58.23
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3724
                                                  Adj R-squared   =     0.3466
Number of clusters (ticker)  =        105         Within R-sq.    =     0.3724
Number of clusters (quarter) =         20         Root MSE        =     0.4043

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     highfee | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
  firstmover |   .6154814   .0806586     7.63   0.000      .446661    .7843018
       _cons |   .2006905   .0554979     3.62   0.002      .084532    .3168491
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_7.tex", adjr2 replace tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_7.tex
dir : seeout

. 
. reghdfe highfee firstmover marketing_fee_bps_std net_expenses_std stock_tweet
> s lend_byaum_bps_std tr_error_bps_std creation_fee_std perf_drag_bps_std diff
> erent_benchmarks different_lead_mm ratio_tii_std, absorb(index_id quarter) vc
> e(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,679
Absorbing 2 HDFE groups                           F(  11,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.4659
                                                  Adj R-squared   =     0.4395
Number of clusters (ticker)  =        104         Within R-sq.    =     0.4598
Number of clusters (quarter) =         20         Root MSE        =     0.3745

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     highfee | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
  firstmover |   .5661361   .1037076     5.46   0.000     .3490737    .7831985
marketing_~d |   .1340631   .1030317     1.30   0.209    -.0815847     .349711
net_expens~d |   .1426106    .105797     1.35   0.194    -.0788251    .3640462
stock_tweets |    .015385   .0073167     2.10   0.049     .0000711     .030699
lend_byaum~d |  -.0638355   .0644612    -0.99   0.334    -.1987543    .0710833
tr_error_b~d |   .0657242   .0259604     2.53   0.020     .0113884    .1200601
creation_f~d |   .2444779   .0882537     2.77   0.012     .0597608     .429195
perf_drag_~d |    .006011    .007239     0.83   0.417    -.0091403    .0211623
different_~s |  -.2891284   .0506511    -5.71   0.000    -.3951423   -.1831145
different_~m |   .0059381    .015518     0.38   0.706    -.0265415    .0384176
ratio_tii_~d |   .0175548   .0231026     0.76   0.457    -.0307996    .0659092
       _cons |   .3789939   .0334786    11.32   0.000     .3089224    .4490653
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_7.tex", adjr2 append tex tstat label 
>  dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_7.tex
dir : seeout

. 
. reghdfe highfee firstmover firstmover_diffbench marketing_fee_bps_std net_exp
> enses_std stock_tweets lend_byaum_bps_std tr_error_bps_std creation_fee_std p
> erf_drag_bps_std different_benchmarks different_lead_mm ratio_tii_std, absorb
> (index_id quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,679
Absorbing 2 HDFE groups                           F(  12,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.4663
                                                  Adj R-squared   =     0.4396
Number of clusters (ticker)  =        104         Within R-sq.    =     0.4602
Number of clusters (quarter) =         20         Root MSE        =     0.3744

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     highfee | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
  firstmover |   .5899083   .1324641     4.45   0.000     .3126577    .8671589
firstmover~h |   -.050165   .1775974    -0.28   0.781    -.4218806    .3215507
marketing_~d |   .1457309   .1089141     1.34   0.197    -.0822289    .3736907
net_expens~d |   .1534008   .1056764     1.45   0.163    -.0677825    .3745841
stock_tweets |   .0139113   .0085699     1.62   0.121    -.0040256    .0318482
lend_byaum~d |  -.0615055   .0660216    -0.93   0.363    -.1996904    .0766793
tr_error_b~d |   .0719928   .0312824     2.30   0.033      .006518    .1374675
creation_f~d |   .2426306   .0866419     2.80   0.011     .0612869    .4239742
perf_drag_~d |   .0080977   .0047671     1.70   0.106      -.00188    .0180754
different_~s |  -.2697625   .0546558    -4.94   0.000    -.3841584   -.1553666
different_~m |   .0052892   .0152988     0.35   0.733    -.0267315      .03731
ratio_tii_~d |   .0194346   .0247873     0.78   0.443    -.0324459     .071315
       _cons |   .3711433   .0330866    11.22   0.000     .3018922    .4403945
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_7.tex", adjr2 append tex tstat label 
>  dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_7.tex
dir : seeout

. 
. reghdfe highfee firstmover firstmover_majorindex marketing_fee_bps_std net_ex
> penses_std stock_tweets lend_byaum_bps_std tr_error_bps_std creation_fee_std 
> perf_drag_bps_std different_benchmarks  different_lead_mm ratio_tii_std, abso
> rb(index_id quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,679
Absorbing 2 HDFE groups                           F(  12,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.4662
                                                  Adj R-squared   =     0.4395
Number of clusters (ticker)  =        104         Within R-sq.    =     0.4601
Number of clusters (quarter) =         20         Root MSE        =     0.3744

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     highfee | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
  firstmover |   .5327728    .209188     2.55   0.020     .0949374    .9706083
firstmover~x |   .0475115    .250699     0.19   0.852    -.4772076    .5722305
marketing_~d |   .1471744   .1527173     0.96   0.347    -.1724665    .4668154
net_expens~d |   .1536153   .1416066     1.08   0.292    -.1427707    .4500013
stock_tweets |   .0142016   .0101125     1.40   0.176    -.0069641    .0353674
lend_byaum~d |  -.0669877   .0620925    -1.08   0.294    -.1969487    .0629734
tr_error_b~d |   .0640453   .0285847     2.24   0.037     .0042169    .1238737
creation_f~d |   .2481357   .0914953     2.71   0.014     .0566338    .4396377
perf_drag_~d |   .0057538     .00773     0.74   0.466    -.0104253     .021933
different_~s |  -.2898327   .0516475    -5.61   0.000    -.3979321   -.1817333
different_~m |   .0062329   .0150228     0.41   0.683    -.0252102     .037676
ratio_tii_~d |   .0194477   .0246328     0.79   0.440    -.0321094    .0710048
       _cons |   .3795024   .0338013    11.23   0.000     .3087556    .4502493
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_7.tex", adjr2 append tex tstat label 
>  dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_7.tex
dir : seeout

. 
. reghdfe highfee firstmover firstmover_diffleadmm marketing_fee_bps_std net_ex
> penses_std stock_tweets lend_byaum_bps_std tr_error_bps_std creation_fee_std 
> perf_drag_bps_std different_benchmarks  different_lead_mm ratio_tii_std, abso
> rb(index_id quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,679
Absorbing 2 HDFE groups                           F(  12,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.4717
                                                  Adj R-squared   =     0.4453
Number of clusters (ticker)  =        104         Within R-sq.    =     0.4657
Number of clusters (quarter) =         20         Root MSE        =     0.3725

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     highfee | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
  firstmover |    .405902   .1856945     2.19   0.042     .0172389    .7945652
firstmover~m |    .203985   .1750894     1.17   0.258    -.1624813    .5704514
marketing_~d |   .1388107   .1032071     1.34   0.194    -.0772043    .3548256
net_expens~d |   .1378362   .1020802     1.35   0.193      -.07582    .3514924
stock_tweets |   .0185023   .0089579     2.07   0.053    -.0002468    .0372514
lend_byaum~d |  -.0485617   .0685603    -0.71   0.487      -.19206    .0949367
tr_error_b~d |   .0696315   .0262899     2.65   0.016      .014606     .124657
creation_f~d |   .2249174   .0878639     2.56   0.019     .0410161    .4088188
perf_drag_~d |   .0061806   .0075098     0.82   0.421    -.0095375    .0218987
different_~s |  -.2659232    .073207    -3.63   0.002    -.4191472   -.1126992
different_~m |  -.0939894   .0894497    -1.05   0.307    -.2812097    .0932309
ratio_tii_~d |   .0184701   .0221318     0.83   0.414    -.0278523    .0647926
       _cons |   .4443085   .0606835     7.32   0.000     .3172965    .5713205
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_7.tex", adjr2 append tex tstat label 
>  dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_7.tex
dir : seeout

. 
end of do-file
