
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      18.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: 5-user 32-core network perpetual
Serial number: 501806221992
  Licensed to: Nathaniel Baum−Snow
               University of Toronto

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do table_6 

. 
. // Table 3 - Investor holding duration and ETF fees
. // -------------------------------------
. 
. // Load data
. // -------------------------------------
. clear all

. set more off

. 
. cd ..
/global/home/pc_mzoican/kpz_etfliquidity

. local directory : pwd

. display "`working_dir'"


. import delimited "`directory'/data/etf_panel_processed.csv"
(encoding automatically selected: ISO-8859-1)
(71 vars, 1,752 obs)

. 
. 
. // // Label variables
. // // ---------------------------------
. 
. egen time_existence_std=std(time_existence)

. egen time_since_first_std=std(time_since_first)
(33 missing values generated)

. egen log_aum_index_std=std(log_aum_index)

. egen lend_byaum_bps_std=std(lend_byaum_bps)

. egen marketing_fee_bps_std=std(marketing_fee_bps)

. egen tr_error_bps_std=std(tr_error_bps)

. egen perf_drag_bps_std=std(perf_drag_bps)

. egen turnover_frac_std=std(turnover_frac)
(2 missing values generated)

. gen  net_expense_mer=other_expense-marketing_fee_bps/100+fee_waiver

. egen net_expenses_std=std(net_expense_mer)

. egen stock_tweets_std=std(stock_tweets)

. 
. label variable mgr_duration "Investor holding duration"

. label variable highfee "High MER"

. label variable time_existence_std "ETF age (quarters)"

. label variable time_since_first_std "Time since first position"

. label variable log_aum_index_std "Log index AUM"

. label variable d_uit "Unit investment trust"

. label variable lend_byaum_bps_std "Lending income (bps of AUM)"

. label variable marketing_fee_bps_std "Marketing expense (bps)"

. label variable stock_tweets "Name recognition (Twitter msg.)"

. label variable tr_error_bps_std "Tracking error (bps)"

. label variable perf_drag_bps_std "Performance drag (bps)"

. label variable turnover_frac_std "ETF turnover"

. label variable net_expenses_std "Other net expenses"

. label variable stock_tweets_std "Stock tweets"

. 
. 
. label variable mkt_share "Market share"

. label variable spread_bps_crsp "Relative spread"

. label variable mer_bps "MER"

. label variable logret_q_lag "Lagged return"

. label variable ratio_tii "Tax-insensitive investors"

. 
. 
. gen tii_return=ratio_tii * logret_q_lag
(49 missing values generated)

. label variable tii_return "TII $\times$ Lagged return"

. 
. 
. egen ratio_tra_ix_std=std(ratio_tra_ix )

. gen ix_ratiotra_highfee=highfee * ratio_tra_ix_std

. 
. gen tra_above=ratio_tra_ix_std>0

. gen ix_tra_above=highfee * tra_above

. 
. label variable ratio_tra_ix_std "Index AUM share of transient investors ($\te
> xt{TRA}_\text{ix}$)"

. label variable ix_ratiotra_highfee "High MER $\times$ $\text{TRA}_\text{ix}$"

. 
. drop log_aum

. gen log_aum=log(aum)
(2 missing values generated)

. 
. 
. reghdfe spread_bps_crsp highfee ix_ratiotra_highfee ratio_tra_ix_std , absorb
> (index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   3,     19) =       6.73
Statistics robust to heteroskedasticity           Prob > F        =     0.0028
                                                  R-squared       =     0.5618
                                                  Adj R-squared   =     0.5433
Number of clusters (ticker)  =        105         Within R-sq.    =     0.1511
Number of clusters (quarter) =         20         Root MSE        =     6.7737

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
spread_bps~p | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |  -4.146113   .9828266    -4.22   0.000    -6.203192   -2.089033
ix_ratiotr~e |  -3.575262   1.671103    -2.14   0.046     -7.07292   -.0776037
ratio_tra_~d |   2.874015   1.257062     2.29   0.034     .2429542    5.505075
       _cons |   8.618705   .5778855    14.91   0.000     7.409176    9.828233
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 replace tex tstat labe
> l  dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe spread_bps_crsp  highfee ix_ratiotra_highfee ratio_tra_ix_std   stock
> _tweets log_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expens
> es_std, absorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   8,     19) =      15.78
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.6052
                                                  Adj R-squared   =     0.5873
Number of clusters (ticker)  =        105         Within R-sq.    =     0.2352
Number of clusters (quarter) =         20         Root MSE        =     6.4391

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
spread_bps~p | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |  -3.525599   .8955782    -3.94   0.001    -5.400066   -1.651133
ix_ratiotr~e |  -3.498564   1.645425    -2.13   0.047    -6.942479   -.0546491
ratio_tra_~d |   2.322636   1.224976     1.90   0.073    -.2412691     4.88654
stock_tweets |   .0503617   .0750055     0.67   0.510    -.1066266      .20735
log_aum_in~d |  -4.941793   1.494089    -3.31   0.004    -8.068957   -1.814628
lend_byaum~d |   -1.94147   .3756721    -5.17   0.000    -2.727761   -1.155179
marketing_~d |   1.924849   1.063743     1.81   0.086    -.3015914     4.15129
net_expens~d |  -.2476601   .8611345    -0.29   0.777    -2.050035    1.554715
       _cons |   8.306959   .5232961    15.87   0.000     7.211688     9.40223
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe spread_bps_crsp  highfee ix_ratiotra_highfee ratio_tra_ix_std   stock
> _tweets log_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expens
> es_std tr_error_bps_std perf_drag_bps_std d_uit ratio_tii logret_q_lag tii_re
> turn, absorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,703
Absorbing 2 HDFE groups                           F(  14,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.6071
                                                  Adj R-squared   =     0.5872
Number of clusters (ticker)  =        104         Within R-sq.    =     0.2387
Number of clusters (quarter) =         20         Root MSE        =     6.4159

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
spread_bps~p | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |  -3.398871   .9439839    -3.60   0.002    -5.374652    -1.42309
ix_ratiotr~e |  -3.326017   1.750925    -1.90   0.073    -6.990744    .3387106
ratio_tra_~d |   2.403122   1.398282     1.72   0.102    -.5235162    5.329761
stock_tweets |  -.1491255    .110849    -1.35   0.194    -.3811351     .082884
log_aum_in~d |  -3.732193   1.742172    -2.14   0.045    -7.378601   -.0857848
lend_byaum~d |  -1.797733   .3230286    -5.57   0.000     -2.47384   -1.121627
marketing_~d |   1.696292   1.038537     1.63   0.119    -.4773907    3.869974
net_expens~d |  -.4592942   .8781747    -0.52   0.607    -2.297335    1.378747
tr_error_b~d |  -.8514693   .5653441    -1.51   0.148    -2.034748    .3318095
perf_drag_~d |   .0436763   .2735232     0.16   0.875    -.5288143    .6161669
       d_uit |   2.980176    1.45125     2.05   0.054    -.0573254    6.017678
   ratio_tii |   .0199181   .0230953     0.86   0.399    -.0284209     .068257
logret_q_lag |  -8.853063   7.069267    -1.25   0.226    -23.64921    5.943083
  tii_return |   .1374305   .0866973     1.59   0.129    -.0440289      .31889
       _cons |   6.450882    1.74957     3.69   0.002      2.78899    10.11277
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. 
. reghdfe mer_bps highfee ix_ratiotra_highfee ratio_tra_ix_std , absorb(index q
> uarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   3,     19) =      46.97
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.8689
                                                  Adj R-squared   =     0.8633
Number of clusters (ticker)  =        105         Within R-sq.    =     0.4770
Number of clusters (quarter) =         20         Root MSE        =     6.9562

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     mer_bps | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |   12.50279   1.455245     8.59   0.000     9.456929    15.54866
ix_ratiotr~e |   3.595664   1.748019     2.06   0.054    -.0629814     7.25431
ratio_tra_~d |  -2.033927    .840081    -2.42   0.026    -3.792237   -.2756175
       _cons |   19.09397   .9890661    19.31   0.000     17.02383    21.16411
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe mer_bps highfee ix_ratiotra_highfee ratio_tra_ix_std   stock_tweets l
> og_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expenses_std, a
> bsorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   8,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.8926
                                                  Adj R-squared   =     0.8877
Number of clusters (ticker)  =        105         Within R-sq.    =     0.5716
Number of clusters (quarter) =         20         Root MSE        =     6.3053

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     mer_bps | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |    11.8298   1.485042     7.97   0.000     8.721572    14.93803
ix_ratiotr~e |   3.939253   1.441683     2.73   0.013      .921776    6.956731
ratio_tra_~d |   -1.79857   .7264175    -2.48   0.023     -3.31898   -.2781611
stock_tweets |  -.4009254    .164596    -2.44   0.025    -.7454288   -.0564219
log_aum_in~d |   .3096201   .1549796     2.00   0.060    -.0147559    .6339961
lend_byaum~d |   1.314385   .8622668     1.52   0.144    -.4903601     3.11913
marketing_~d |   -4.60917   1.501414    -3.07   0.006    -7.751665   -1.466675
net_expens~d |  -1.034677   1.579855    -0.65   0.520    -4.341352    2.271997
       _cons |   19.44232   .9481085    20.51   0.000     17.45791    21.42674
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe mer_bps  highfee ix_ratiotra_highfee ratio_tra_ix_std   stock_tweets 
> log_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expenses_std  
> tr_error_bps_std perf_drag_bps_std d_uit ratio_tii logret_q_lag tii_return, a
> bsorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,703
Absorbing 2 HDFE groups                           F(  14,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.9040
                                                  Adj R-squared   =     0.8992
Number of clusters (ticker)  =        104         Within R-sq.    =     0.6274
Number of clusters (quarter) =         20         Root MSE        =     5.9474

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     mer_bps | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |   11.18924   1.267908     8.82   0.000     8.535478      13.843
ix_ratiotr~e |   3.351205   1.568078     2.14   0.046     .0691808     6.63323
ratio_tra_~d |  -1.804813   .8301147    -2.17   0.043    -3.542263   -.0673631
stock_tweets |  -.5363177   .3957203    -1.36   0.191     -1.36457    .2919344
log_aum_in~d |   .1879462   .2337104     0.80   0.431    -.3012153    .6771077
lend_byaum~d |   1.170654   .6576476     1.78   0.091    -.2058182    2.547126
marketing_~d |  -4.198976   1.351426    -3.11   0.006    -7.027543   -1.370408
net_expens~d |  -1.270626   1.520563    -0.84   0.414    -4.453201    1.911949
tr_error_b~d |   3.849637   1.266748     3.04   0.007     1.198303    6.500971
perf_drag_~d |   1.476611   .6394783     2.31   0.032     .1381677    2.815055
       d_uit |   4.436949   4.535235     0.98   0.340    -5.055407     13.9293
   ratio_tii |  -.0157315   .0169425    -0.93   0.365    -.0511926    .0197295
logret_q_lag |   .4963767   3.029061     0.16   0.872    -5.843521    6.836274
  tii_return |   .0015281   .0647878     0.02   0.981    -.1340743    .1371305
       _cons |   21.00634   1.617435    12.99   0.000     17.62101    24.39167
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. 
end of do-file
