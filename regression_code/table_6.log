
  ___  ____  ____  ____  ____ ®
 /__    /   ____/   /   ____/      18.0
___/   /   /___/   /   /___/       MP—Parallel Edition

 Statistics and Data Science       Copyright 1985-2023 StataCorp LLC
                                   StataCorp
                                   4905 Lakeway Drive
                                   College Station, Texas 77845 USA
                                   800-STATA-PC        https://www.stata.com
                                   979-696-4600        stata@stata.com

Stata license: 5-user 32-core network perpetual
Serial number: 501806221992
  Licensed to: Nathaniel Baum−Snow
               University of Toronto

Notes:
      1. Stata is running in batch mode.
      2. Unicode is supported; see help unicode_advice.
      3. More than 2 billion observations are allowed; see help obs_advice.
      4. Maximum number of variables is set to 5,000 but can be increased;
          see help set_maxvar.

. do table_6 

. 
. // Table 3 - Investor holding duration and ETF fees
. // -------------------------------------
. 
. // Load data
. // -------------------------------------
. clear all

. set more off

. 
. cd ..
/global/home/pc_mzoican/kpz_etfliquidity

. local directory : pwd

. display "`working_dir'"


. import delimited "`directory'/data/etf_panel_processed.csv"
(encoding automatically selected: ISO-8859-1)
(71 vars, 1,752 obs)

. 
. 
. // // Label variables
. // // ---------------------------------
. 
. egen time_existence_std=std(time_existence)

. egen time_since_first_std=std(time_since_first)
(56 missing values generated)

. egen log_aum_index_std=std(log_aum_index)

. egen lend_byaum_bps_std=std(lend_byaum_bps)

. egen marketing_fee_bps_std=std(marketing_fee_bps)

. egen tr_error_bps_std=std(tr_error_bps)

. egen perf_drag_bps_std=std(perf_drag_bps)

. egen turnover_frac_std=std(turnover_frac)
(2 missing values generated)

. gen  net_expense_mer=other_expense-marketing_fee_bps/100+fee_waiver

. egen net_expenses_std=std(net_expense_mer)

. egen stock_tweets_std=std(stock_tweets)

. 
. label variable mgr_duration "Investor holding duration"

. label variable highfee "High MER"

. label variable time_existence_std "ETF age (quarters)"

. label variable time_since_first_std "Time since first position"

. label variable log_aum_index_std "Log index AUM"

. label variable d_uit "Unit investment trust"

. label variable lend_byaum_bps_std "Lending income (bps of AUM)"

. label variable marketing_fee_bps_std "Marketing expense (bps)"

. label variable stock_tweets "Name recognition (Twitter msg.)"

. label variable tr_error_bps_std "Tracking error (bps)"

. label variable perf_drag_bps_std "Performance drag (bps)"

. label variable turnover_frac_std "ETF turnover"

. label variable net_expenses_std "Other net expenses"

. label variable stock_tweets_std "Stock tweets"

. 
. 
. label variable mkt_share "Market share"

. label variable spread_bps_crsp "Relative spread"

. label variable mer_bps "MER"

. label variable logret_q_lag "Lagged return"

. label variable ratio_tii "Tax-insensitive investors"

. 
. 
. gen tii_return=ratio_tii * logret_q_lag
(73 missing values generated)

. label variable tii_return "TII $\times$ Lagged return"

. 
. 
. egen ratio_tra_ix_std=std(ratio_tra_ix )

. gen ix_ratiotra_highfee=highfee * ratio_tra_ix_std

. 
. gen tra_above=ratio_tra_ix_std>0

. gen ix_tra_above=highfee * tra_above

. 
. label variable ratio_tra_ix_std "Index AUM share of transient investors ($\te
> xt{TRA}_\text{ix}$)"

. label variable ix_ratiotra_highfee "High MER $\times$ $\text{TRA}_\text{ix}$"

. 
. drop log_aum

. gen log_aum=log(aum)
(2 missing values generated)

. 
. 
. reghdfe spread_bps_crsp highfee ix_ratiotra_highfee ratio_tra_ix_std , absorb
> (index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   3,     19) =       6.83
Statistics robust to heteroskedasticity           Prob > F        =     0.0026
                                                  R-squared       =     0.5594
                                                  Adj R-squared   =     0.5408
Number of clusters (ticker)  =        105         Within R-sq.    =     0.1465
Number of clusters (quarter) =         20         Root MSE        =     6.7919

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
spread_bps~p | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |  -4.146113   .9821629    -4.22   0.000    -6.201803   -2.090422
ix_ratiotr~e |  -3.480554   1.639198    -2.12   0.047    -6.911435   -.0496735
ratio_tra_~d |   2.705503   1.184026     2.29   0.034     .2273076    5.183699
       _cons |   8.618705   .5768977    14.94   0.000     7.411244    9.826165
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 replace tex tstat labe
> l  dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe spread_bps_crsp  highfee ix_ratiotra_highfee ratio_tra_ix_std   stock
> _tweets log_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expens
> es_std, absorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   8,     19) =      15.60
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.6035
                                                  Adj R-squared   =     0.5855
Number of clusters (ticker)  =        105         Within R-sq.    =     0.2319
Number of clusters (quarter) =         20         Root MSE        =     6.4530

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
spread_bps~p | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |  -3.522768   .8925992    -3.95   0.001    -5.390999   -1.654536
ix_ratiotr~e |  -3.406219   1.612062    -2.11   0.048    -6.780303   -.0321355
ratio_tra_~d |    2.16633   1.147112     1.89   0.074    -.2346039    4.567264
stock_tweets |    .049711   .0740219     0.67   0.510    -.1052187    .2046406
log_aum_in~d |  -5.025372   1.501957    -3.35   0.003    -8.169003   -1.881741
lend_byaum~d |  -1.991304   .3754623    -5.30   0.000    -2.777156   -1.205452
marketing_~d |   1.886324     1.0536     1.79   0.089    -.3188856    4.091533
net_expens~d |  -.2758874   .8481591    -0.33   0.749    -2.051105     1.49933
       _cons |   8.305562   .5208283    15.95   0.000     7.215456    9.395668
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe spread_bps_crsp  highfee ix_ratiotra_highfee ratio_tra_ix_std   stock
> _tweets log_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expens
> es_std tr_error_bps_std perf_drag_bps_std d_uit ratio_tii logret_q_lag tii_re
> turn, absorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,679
Absorbing 2 HDFE groups                           F(  14,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.5998
                                                  Adj R-squared   =     0.5793
Number of clusters (ticker)  =        104         Within R-sq.    =     0.2283
Number of clusters (quarter) =         20         Root MSE        =     6.4318

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
spread_bps~p | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |  -3.372495   .9494024    -3.55   0.002    -5.359617   -1.385373
ix_ratiotr~e |  -2.983874   1.693066    -1.76   0.094    -6.527501    .5597533
ratio_tra_~d |   1.875627   1.223852     1.53   0.142    -.6859249    4.437179
stock_tweets |  -.1690395   .1158798    -1.46   0.161    -.4115787    .0734997
log_aum_in~d |  -3.808558   1.729697    -2.20   0.040    -7.428856   -.1882594
lend_byaum~d |  -1.903183    .378807    -5.02   0.000    -2.696035   -1.110331
marketing_~d |   1.627016   1.025313     1.59   0.129     -.518988     3.77302
net_expens~d |  -.6033134   .8516829    -0.71   0.487    -2.385906    1.179279
tr_error_b~d |  -.8048848   .5401361    -1.49   0.153    -1.935403     .325633
perf_drag_~d |   .0640516   .2673262     0.24   0.813    -.4954685    .6235717
       d_uit |   3.276473   1.321372     2.48   0.023     .5108092    6.042138
   ratio_tii |   .0267609   .0201866     1.33   0.201    -.0154902     .069012
logret_q_lag |  -5.444638   2.017134    -2.70   0.014    -9.666549   -1.222727
  tii_return |   .1042216   .0327668     3.18   0.005       .03564    .1728033
       _cons |   5.883185   1.466124     4.01   0.001     2.814551    8.951818
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. 
. reghdfe mer_bps highfee ix_ratiotra_highfee ratio_tra_ix_std , absorb(index q
> uarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   3,     19) =      39.75
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.8691
                                                  Adj R-squared   =     0.8636
Number of clusters (ticker)  =        105         Within R-sq.    =     0.4780
Number of clusters (quarter) =         20         Root MSE        =     6.9500

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     mer_bps | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |   12.50279   1.454548     8.60   0.000      9.45839     15.5472
ix_ratiotr~e |    3.64135   1.746871     2.08   0.051    -.0148931    7.297594
ratio_tra_~d |   -2.05108   .8427368    -2.43   0.025    -3.814949    -.287212
       _cons |   19.09397   .9884262    19.32   0.000     17.02517    21.16277
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe mer_bps highfee ix_ratiotra_highfee ratio_tra_ix_std   stock_tweets l
> og_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expenses_std, a
> bsorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,752
Absorbing 2 HDFE groups                           F(   8,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.8927
                                                  Adj R-squared   =     0.8879
Number of clusters (ticker)  =        105         Within R-sq.    =     0.5723
Number of clusters (quarter) =         20         Root MSE        =     6.3003

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     mer_bps | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |   11.83331   1.484984     7.97   0.000     8.725204    14.94142
ix_ratiotr~e |   3.960702   1.453646     2.72   0.013     .9181855    7.003218
ratio_tra_~d |  -1.812946   .7340599    -2.47   0.023    -3.349351   -.2765406
stock_tweets |  -.4011099   .1637122    -2.45   0.024    -.7437636   -.0584563
log_aum_in~d |   .3011481   .1519433     1.98   0.062     -.016873    .6191692
lend_byaum~d |   1.358917   .8570323     1.59   0.129    -.4348719    3.152706
marketing_~d |  -4.583952   1.493696    -3.07   0.006    -7.710293    -1.45761
net_expens~d |  -1.027058   1.573836    -0.65   0.522    -4.321135    2.267019
       _cons |   19.44057    .947706    20.51   0.000       17.457    21.42414
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. reghdfe mer_bps  highfee ix_ratiotra_highfee ratio_tra_ix_std   stock_tweets 
> log_aum_index_std lend_byaum_bps_std marketing_fee_bps_std net_expenses_std  
> tr_error_bps_std perf_drag_bps_std d_uit ratio_tii logret_q_lag tii_return, a
> bsorb(index quarter) vce(cl ticker quarter)
(MWFE estimator converged in 5 iterations)
Warning: VCV matrix was non-positive semi-definite; adjustment from Cameron, Ge
> lbach & Miller applied.
warning: missing F statistic; dropped variables due to collinearity or too few 
> clusters

HDFE Linear regression                            Number of obs   =      1,679
Absorbing 2 HDFE groups                           F(  14,     19) =          .
Statistics robust to heteroskedasticity           Prob > F        =          .
                                                  R-squared       =     0.9041
                                                  Adj R-squared   =     0.8992
Number of clusters (ticker)  =        104         Within R-sq.    =     0.6257
Number of clusters (quarter) =         20         Root MSE        =     5.9582

                        (Std. err. adjusted for 20 clusters in ticker quarter)
------------------------------------------------------------------------------
             |               Robust
     mer_bps | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
     highfee |   11.22262   1.273706     8.81   0.000     8.556721    13.88852
ix_ratiotr~e |   3.157273   1.572304     2.01   0.059    -.1335982    6.448143
ratio_tra_~d |  -1.711114   .7789267    -2.20   0.041    -3.341427    -.080802
stock_tweets |  -.5298067   .3892953    -1.36   0.189    -1.344611    .2849977
log_aum_in~d |    .291565   .2700958     1.08   0.294     -.273752    .8568821
lend_byaum~d |   1.304035   .6942089     1.88   0.076    -.1489615    2.757031
marketing_~d |  -4.189576   1.341325    -3.12   0.006    -6.997002    -1.38215
net_expens~d |  -1.172304   1.515284    -0.77   0.449    -4.343831    1.999222
tr_error_b~d |   3.804079   1.261936     3.01   0.007     1.162816    6.445342
perf_drag_~d |   1.462194   .6399146     2.28   0.034     .1228372    2.801551
       d_uit |   4.246255   4.453973     0.95   0.352    -5.076018    13.56853
   ratio_tii |  -.0159479    .017052    -0.94   0.361    -.0516382    .0197423
logret_q_lag |  -1.551199   1.224391    -1.27   0.220    -4.113878     1.01148
  tii_return |   .0210435   .0381112     0.55   0.587    -.0587241    .1008112
       _cons |    21.1302   1.641076    12.88   0.000     17.69539    24.56502
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
    index_id |        49           0          49     |
     quarter |        20          20           0    *|
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. outreg2 using "`directory'/output/table_6.tex",  adjr2 append tex tstat label
>   dec(2) tdec(2) eqdrop(/) keep(*)
/global/home/pc_mzoican/kpz_etfliquidity/output/table_6.tex
dir : seeout

. 
end of do-file
